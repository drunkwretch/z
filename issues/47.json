{"id":"MDEwOkRpc2N1c3Npb24zNDQ3MjAy","title":"解决 mac 中使用 npm 命令必须要加 sudo","bodyHTML":"<p>npm 包安装应该在没有 <code>sudo</code> 的情况下完成。除非修改系统范围的权限，否则永远不应使用 <code>sudo</code>。 Node 将 npm 包放在一个特定的文件夹中，通常是 <code>/usr/local/lib/node_modules</code>。但问题是你需要 <code>sudo</code> 权限才能在这里写。这会导致无休止地使用非必需的 <code>sudo</code> 权限。这个位置是我们需要改变的。我们可以通过以下方式来做到：</p>\n<div class=\"highlight highlight-source-shell position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"mkdir ~/.npm\n\nnpm config set prefix ~/.npm\n\nvi ~/.bashrc\n\nexport PATH=&quot;$PATH:$HOME/.npm/bin&quot;\n\nsource ~/.bashrc\n\"><pre>mkdir <span class=\"pl-k\">~</span>/.npm\n\nnpm config <span class=\"pl-c1\">set</span> prefix <span class=\"pl-k\">~</span>/.npm\n\nvi <span class=\"pl-k\">~</span>/.bashrc\n\n<span class=\"pl-k\">export</span> PATH=<span class=\"pl-s\"><span class=\"pl-pds\">\"</span><span class=\"pl-smi\">$PATH</span>:<span class=\"pl-smi\">$HOME</span>/.npm/bin<span class=\"pl-pds\">\"</span></span>\n\n<span class=\"pl-c1\">source</span> <span class=\"pl-k\">~</span>/.bashrc</pre></div>\n<p>如果使用了 <a href=\"https://ohmyz.sh/\" rel=\"nofollow\">Oh My Zsh</a>，则编辑 <code>~/.zshrc</code></p>\n<p><a href=\"https://github.com/nvm-sh/nvm\">NVM（Node 版本管理器）</a>允许你在没有 root 权限的情况下安装 Node，还允许安装多个版本的 Node，非常适合开发。</p>\n<hr>\n<ul>\n<li><a href=\"https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally\" rel=\"nofollow\">Resolving EACCES permissions errors when installing packages globally</a></li>\n<li><a href=\"https://stackoverflow.com/questions/16151018/how-to-fix-npm-throwing-error-without-sudo\" rel=\"nofollow\">How to fix npm throwing error without sudo</a></li>\n</ul>","category":{"name":"Notes"},"labels":{"edges":[{"node":{"id":"MDU6TGFiZWwzMTMxNjU4NTAx","name":"OSX"}}]},"reactions":{"totalCount":0,"edges":[]},"comments":{"edges":[]}}