import{R as e,k as f,z as h}from"./react.457ca2a6.js";import{c as i,a as y,L as w,E as j}from"./fzj.5150733e.js";import{A as u}from"./index.ea2d3e2d.js";import{h as m,r as k,d as C}from"./index.0b8d278e.js";import"./lodash.71f9f2ff.js";import"./graphql.6e070bf7.js";const L=({data:a})=>e.createElement("div",{className:"comment-replies"},a.edges.map(({node:t},n)=>e.createElement("div",{key:+n},e.createElement(u,{className:"comment-replies-author",avatar:t.author.avatarUrl,name:t.author.login,onClick:()=>m(t.author.url)}),e.createElement("div",{className:"comment-replies-body",dangerouslySetInnerHTML:{__html:t.bodyHTML}})))),b=({data:a})=>{const{author:t,replies:n}=a;return e.createElement("div",{className:"comment-item",key:a.id},e.createElement(u,{className:"comment-author",avatar:t.avatarUrl,name:t.login,onClick:()=>m(t.url)}),e.createElement("div",{className:"comment-body"},e.createElement("div",{className:"comment-main",dangerouslySetInnerHTML:{__html:a.bodyHTML}}),e.createElement(L,{data:n})))};var _=b;const x=({className:a,emoji:t,count:n})=>e.createElement("span",{className:i("fzj-reaction",a)},e.createElement("span",{className:"emoji"},t),e.createElement("span",{className:"count"},n));var z=x,H="/assets/woap.99c96107.svg";function S(){var o;const{issues:a}=f(),{data:t,loading:n,error:d}=y(a);if(n)return e.createElement(w,null);if(d)return e.createElement(j,{type:"issues",issues:a});if(!t)return null;const{title:l,bodyHTML:p,comments:c,reactions:E,category:v,labels:r}=t,g=()=>{window.open(`${window.location.origin}/posts/issues-${a.toString().padStart(4,"0")}`,"__blank")},N=(o=r==null?void 0:r.edges)==null?void 0:o.some(({node:s})=>["wechat-link","wechat-post","\u5FAE\u4FE1\u6742\u8C08"].includes(s.name));return e.createElement("div",{className:i("issues-view",v.name.toLocaleLowerCase())},e.createElement(h,null,e.createElement("title",null,"\u6D6E\u4E4B\u9759\uFF5C",l)),e.createElement("div",{className:"post markdown-body"},e.createElement("div",{className:"fzj-post"},N&&e.createElement("img",{className:"woap",src:H,alt:"woap",onClick:g}),e.createElement("h1",{className:"title",onClick:()=>m(C(a))},e.createElement("span",null,e.createElement("span",{className:"issues"},"#",a),e.createElement("span",null,l))),e.createElement("div",{className:"status"},k(E.edges).map(s=>e.createElement(z,{key:s[0],emoji:s[0],count:s[1]}))),e.createElement("div",{dangerouslySetInnerHTML:{__html:p}})),c.edges.length>0&&e.createElement("div",{className:"fzj-comment"},c.edges.map(({node:s})=>e.createElement(_,{key:s.id,data:s})))))}export{S as default};
